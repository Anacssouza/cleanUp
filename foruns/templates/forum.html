{% load static %}

<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title> CleanUp - Forum </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.2/css/all.min.css" rel="stylesheet">
    <link rel="shortcut icon" href="{% static '/img/favicon.png' %}" type="image/x-icon">

    <link rel="stylesheet" type="text/css" href="{% static '/css/forum.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static '/css/breadcrumb.css' %}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@200;300;500;600&display=swap" rel="stylesheet">
</head>
  <body style="height:100vh; background-image: url('{% static 'img/fundoForum2.jpeg' %}'); background-position: center; background-size: cover; background-repeat: no-repeat; background-attachment: fixed; ">
    {% include '_cabecalho.html' %}


     <div class="d-flex flex-column title">
         <div class="backgroundtopo">
             <nav class="meubreadcrumb">
                  <ol class="bread" >
                    <li><a href="/desmatamento/"> Home </a></li>
                    <li> > </li>
                    <li class="atual"> Forum </li>
                  </ol>
            </nav>
             <div class="container-fluid teste">
                <form class="d-flex" role="search">
                  <input class="form-control pesquisa"  style="border-radius: 20px" type="search" placeholder="Procure por alguma palavra chave" aria-label="Search">
                </form>
              </div>
         </div>
           <div class="tituloECriacao">
            <h1 class="text-center"> Forum </h1>
          </div>

         <div class="d-flex justify-content-center flex-column align-items-center justify-content-center">
            <div>
               <a type="button" style="font-size: 0.9rem" class="btn btn-primary px-4 rounded-4 bg-light text-black fw-semibold border-white adicionaForum" data-bs-toggle="modal" data-bs-target="#ModalCria">
                 CRIAR TÓPICO
               </a>
            </div>
            <div class="modal fade" id="ModalCria" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
              <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered">
                <div class="modal-content">
                  <div class="modal-header d-flex flex-column">
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    <h2 class="text-center text-primary-emphasis"> Criação de tópico </h2>
                  </div>
                  <div class="modal-body">
                     <div class="form-box register d-flex flex-column text-primary-emphasis">
                      <div class="d-flex justify-content-center">
                          <form name="form" id="form" method="post" action="/criaF/">
                              {% csrf_token %}
                               <div class="input-box w-100 d-flex flex-column">
                                   <label> Título </label>
                                   {{ form.titulo }}
                              </div>
                              <div class="input-box w-100 textarea d-flex flex-column">
                                  <label> Descrição </label>
                                  {{ form.descricao.as_textarea }}
                              </div>
                              <div class="d-flex justify-content-center botoesForum">
                                  <a class="btn btn-dark" href="/forum"> voltar </a>
                                  <input type="submit" class="btn btn-success" value="Salvar">
                              </div>
                          </form>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <a type="button" class="btn btn-outline-success p-2 w-10" href="/criaForum"> Adicionar </a>
            </div>
        </div>



         <div class="topicos">
             <div class="fotoPerfil">
                 <div class="foto"></div>
                 <p> @ADM </p>
             </div>
             <div class="postagem">
                 <h3 class="tituloTopico"> Título do tópico principal </h3>
                 <p class="textoTopico"> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec nec diam ipsum. Nullam dignissim quis ligula ac molestie. Duis feugiat convallis erat feugiat convallis. Cras viverra maximus diam id eleifend. Fusce mattis, nisi sit amet tincidunt fringilla, erat urna lobortis mauris, id gravida augue nisi vitae nisi. </p>
             </div>
             <div class="iconesAcoes">
                 <p> @ADM </p>
                 <img src="{% static '/img/pin.png' %}">

             </div>
         </div>

{% for db in db %}
         <div class="topicosbd">
             <div class="fotoPerfil">
                 <div class="foto"></div>

                    <p> @{{db.author_name}}  </p>

             </div>
             <div class="postagem">
                 <div class="tituloData">
                    <h3 class="tituloTopico"> {{db.titulo}} </h3>
                     <p> {{db.data_participacao}} </p>
                 </div>
                 <p class="textoTopico"> {{db.descricao}} </p>
             </div>
             {% if user.username == db.author_name %}
                 <div class="iconesAcoes">
                     <button class="btn bg-transparent " type="button"  data-bs-toggle="modal" data-bs-target="#exampleModal2{{ db.id_foruns }}"> <img class="iconEditar" src="{% static '/img/edit_.svg' %}"></button>
                     <button class="btn bg-transparent " data-bs-toggle="modal" data-bs-target="#exampleModal{{ db.id_foruns }}"> <img class="iconLixo" src="{% static '/img/lixo.svg' %}"> </button>

                 </div>
                 <div class="modal fade text-black" id="exampleModal{{db.id_foruns}}" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                      <div class="modal-dialog modal-dialog-centered">
                        <div class="modal-content">
                          <div class="modal-header">
                            <h1 class="modal-title fs-5" id="exampleModalLabel">Excluir meu tópico</h1>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                          </div>
                              <div class="modal-body">
                                Esta ação não pode ser desfeita, você tem certeza que deseja excluir o tópico {{db.titulo}}?
                              </div>
                          <div class="modal-footer botoesAcoes">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"> Voltar </button>
                            <a type="button" href="{% url 'excluiF' db.id_foruns %}" class="btn btn-danger ExcluirConta"> Excluir </a>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="modal fade" id="exampleModal2{{ db.id_foruns }}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                          <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered">
                            <div class="modal-content">
                              <div class="modal-header d-flex flex-column">
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                <h2 class="text-center text-primary-emphasis"> Edição de tópico </h2>
                              </div>
                              <div class="modal-body">
                                 <div class="form-box register d-flex flex-column text-primary-emphasis">
                                  <div class="d-flex justify-content-center">
                                      <form name="form" id="form2" method="post" action="{% url 'editarF' db.id_foruns %}">
                                          {% csrf_token %}
                                           <div class="input-box w-100 d-flex flex-column">
                                               <label> Título </label>
                                               {{ form.titulo }}
                                          </div>
                                          <div class="input-box w-100 textarea d-flex flex-column">
                                              <label> Descrição </label>
                                              {{ form.descricao.as_textarea }}
                                          </div>
                                          <div class="d-flex justify-content-center botoesForum">
                                              <a class="btn btn-dark" href="/forum"> voltar </a>
                                              <input type="submit" class="btn btn-success" value="Salvar">
                                          </div>
                                      </form>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                    </div>



             {% else %}
                <div class="iconesAcoes iconesAcoes2">
                     <img class="iconCitar" src="{% static '/img/citar.svg' %}">
                    <a href="/teste500/" class="btn btn-transparent"><img class="iconReportar" src="{% static '/img/reportar.svg' %}"></a>
                 </div>
             {% endif %}
         </div>
         {% endfor %}



    </div>

<!--paginacao
<div class="pagination">
    {% if pg.has_previous %}
        <a href="?page={{ pg.previous_page_number }}">Anterior</a>
    {% endif %}
    {{ pg.number }} de {{ pg.paginator.num_pages }}
    {% if pg.has_next %}
        <a href="?page={{ pg.next_page_number }}">Próxima</a>
    {% endif %}
</div> -->

    {% include 'footer.html' %}


    <!--   <div class="d-flex flex-column title">
      <div>
        <h1 class="text-center"> Forum </h1>
      </div>
    <div class="d-flex justify-content-center flex-column">
        <div>
           <a type="button" class="btn btn-primary adicionaForum" data-bs-toggle="modal" data-bs-target="#ModalCria">
             Adicionar
           </a>
        </div>
        <div class="pesquisa">

        </div>
         Modal
        <div class="modal fade" id="ModalCria" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered">
            <div class="modal-content">
              <div class="modal-header d-flex flex-column">
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                <h2 class="text-center text-primary-emphasis"> Criação de tópico </h2>
              </div>
              <div class="modal-body">
                 <div class="form-box register d-flex flex-column text-primary-emphasis">
                  <div class="d-flex justify-content-center">
                      <form name="form" id="form" method="post" action="/criaF/">
                          {% csrf_token %}
                           <div class="input-box w-100 d-flex flex-column">
                               <label> Título </label>
                               {{ form.titulo }}
                          </div>
                          <div class="input-box w-100 textarea d-flex flex-column">
                              <label> Descrição </label>
                              {{ form.descricao.as_textarea }}
                          </div>
                          <div class="d-flex justify-content-center botoesForum">
                              <a class="btn btn-dark" href="/forum"> voltar </a>
                              <input type="submit" class="btn btn-success" value="Salvar">
                          </div>
                      </form>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <a type="button" class="btn btn-outline-success p-2 w-10" href="/criaForum"> Adicionar </a>
        </div>
    </div>



    <div class="container my-3 ">
      <nav class="breadcrumb ">
      </nav>

    <form class="align-items-center">
        <form class="d-flex" role="search">
                <input type="text" class="pesquisaForum" id="inlineFormInputGroupUsername" placeholder="Pesquise sobre algum tópico">
                <button class="btn btn-outline-success" type="submit">Search</button>
        </form>
        <span> <ion-icon name="search"></ion-icon> </span>
       <input type="text" class="pesquisaForum" id="inlineFormInputGroupUsername" placeholder="Pesquise sobre algum tópico">
    </form>

    categoria
      <div class="row">
        <div class="col-12 col-xl-12">
          <h2 class="h4 category mb-0 p-4 rounded-top text-light"> Categoria </h2>
          <table class="table table-striped table-bordered table-responsive ">
            <thead class="table-primary">
              <tr>
                <th scope="col" class="forum-col"> Forum </th>
                <th scope="col"> Comentários </th>
                <th scope="col" class="last-post-col"> Ações </th>
              </tr>
            </thead>
            <tbody>
              {% for db in db %}
                <tr>
                    <td>
                      <h3 class="h5 mb-0">{{db.titulo}}</h3>
                      <p class="mb-0">{{db.descricao}} </p>
                    </td>

                  <td>
                    <div> 9 </div>
                  </td>
                  <td>
                    Button trigger modal
                    <a type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
                      Ver comentários
                    </a>

                    Modal
                    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                      <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered modal-xl">
                        <div class="modal-content">
                          <div class="modal-header d-flex flex-column">
                             <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            <h1 class="modal-title fs-5" id="exampleModalLabel">{{db.titulo}}</h1>
                            <p> {{db.descricao}} </p>
                          </div>
                          <div class="modal-body">
                            <strong> Comentários: </strong>  <br>
                            <div>
                              <p> Teste teste teste teste teste </p>
                            </div>
                          </div>
                          <div class="modal-footer">
                            <a type="button" class="btn btn-primary"> Adicionar comentário </a>
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </td>
                </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>


        <div>
        </div>

       <div class="col-12 col-xl-3">
          <aside>
            <div class="row">
              <div class="col-12 col-sm-6 col-xl-12">
                <div class="card mb-3 mb-sm-0 mb-xl-3">
                  <div class="card-body">
                    <h2 class="h4 card-title"> Members online </h2>
                    <ul class="list-noStyle mb-0">
                      <li><a href="#"> Member Name </a></li>
                      <li><a href="#"> Member Name </a></li>
                      <li><a href="#"> Member Name </a></li>
                      <li><a href="#"> Member Name </a></li>
                      <li><a href="#"> Member Name </a></li>
                    </ul>
                  </div>
                  <div class="card-footer">
                    <dl class="row mb-0">
                      <dt class="col-8"> Total: </dt>
                      <dd class="col-4 mb-0"> 20 </dd>
                    </dl>
                    <dl class="row mb-0">
                      <dt class="col-8"> Members </dt>
                      <dd class="col-4 mb-0"> 7 </dd>
                    </dl>
                    <dl class="row mb-0">
                      <dt class="col-8"> Guests </dt>
                      <dd class="col-4 mb-0"> 11 </dd>
                    </dl>
                  </div>
                </div>
              </div>
              <div class="col-12 col-sm-6 col-xl-12">
                <div class="card">
                  <div class="card-body">
                    <h2 class="h4 card-title"> Statistics </h2>
                    <dl class="row mb-0">
                      <dt class="col-8"> Total Forums </dt>
                      <dd class="col-4 mb-0"> 20 </dd>
                    </dl>
                     <dl class="row mb-0">
                      <dt class="col-8"> Total Members </dt>
                      <dd class="col-4 mb-0"> 7 </dd>
                    </dl>
                  </div>
                </div>
              </div>
            </div>
          </aside>
        </div>
      </div>
    </div>
    -->

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <script src="{% static '/js/forum.js' %}"></script>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>

  </body>
</html>
